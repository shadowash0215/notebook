# **CSAPP:深入理解计算机系统**

## *1.Overview*
程序就是由值0和1组成的位,又称 *比特* (bit),8个位被组织成一组,称为 *字节* (byte).  
只由**ASCII**字符构成的文件称为 *文本文件* ,所有其他文件都称为 *二进制文件* .  

GCC编译器翻译C程序文件到可执行文件的四个阶段:  
*预处理阶段* :预处理器(cpp)依据预处理指令进行文本替换,生成.i文件.  
*编译阶段* :编译器(ccl)将.i文件翻译为.s文件,其包含一个汇编语言程序.  
*汇编阶段* :汇编器(as)将.s文件翻译为机器语言指令,并将其打包成一种叫做*可重定位目标程序*(reloctable object program)的格式,并将结果保存在.o文件中. .o文件是二进制文件.  
*链接阶段* :链接器(ld)负责将其他.o文件(标准库的函数、自己编写的其他程序等)与我们汇编阶段得到的.o文件合并,从而得到可执行文件.  
gcc编译命令行参考此篇文章 :[GCC基本使用](https://zhuanlan.zhihu.com/p/404682058)  

系统的硬件组成 :  
1.总线 :携带信息字节并负责在各个部件间传递,常被设计为传送定长的字节块,即 *字* (word),字中的字节长(即 *字长* )是一个基本的系统参数,各个系统中都不尽相同,大多数为4(32位)或8(64位).  
2.I/O设备 :系统与外界联系的通道.每个I/O设备都通过一个 *控制器* 或 *适配器* 与I/O总线相连,两者的区别在于封装方式.控制器是I/O设备或系统主印制电路板( *主板* )上的芯片组,适配器是一块插在主板插槽上的卡.  
3.主存 :临时存储设备,在处理器执行程序时,用来存放程序和程序处理的数据.物理层面,主存是由一组 *动态随机存取存储器* (DRAM)芯片组成的.从逻辑上来说,存储器是一个线性的字节数组,每个字节有唯一的地址,从0开始.  
4.处理器 : *中央处理单元* (CPU),简称 *处理器* ,是解释(或 *执行* )存储在主存中指令的引擎.核心是一个大小为一个字的存储设备(或 *寄存器* ),称为 *程序计数器* (PC).**在任何时刻,PC都指向主存中的某条机器语言指令(即含有该条指令的地址).**  
处理器是按照 *指令集架构* 决定的指令执行模型来进行操作,相邻执行的指令内存中未必相邻.  
指令指示的简单操作围绕着主存、*寄存器文件* (register file)和 *算术/逻辑单元* (ALU)进行.寄存器文件是一个小的存储设备，由一些单个字长的寄存器组成,每个寄存器名字唯一.ALU计算新的数据和地址值.  
一些简单操作的例子 :  
*加载* :从主存复制一个字节或一个字到寄存器,以覆盖寄存器原来的内容.  
*存储* :从寄存器复制一个字节或者一个字到主存的某个位置,以覆盖这个位置上原来的内容.  
*操作* :把两个寄存器的内容复制到ALU,ALU对这两个字做算术运算,并将结果存放到一个寄存器中,以覆盖该寄存器中原来的内容.  
*跳转* :从指令本身中抽取一个字,并将这个字复制到PC中,以覆盖PC中原来的值.  

处理器的指令集架构与微体系结构是有区别的,前者描述每条机器代码指令的效果,后者描述处理器实际上如何实现.  

*高速缓存存储器* (cache memory,简称为cache或高速缓存) :作为暂时的集结区域,存放处理器近期可能需要的信息.  
![1-1 高速缓存存储器](pictures/1-1%20%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%98%E5%AD%98%E5%82%A8%E5%99%A8.jpg)